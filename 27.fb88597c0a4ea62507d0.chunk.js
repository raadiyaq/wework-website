(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{332:function(t,e,n){"use strict";n.r(e);var i=n(269),a=n.n(i),o=n(331),r=n.n(o),s=n(267),c=n.n(s),u=n(268),d=n.n(u),l=n(307),p=n.n(l),h=n(271),v=n.n(h),m=n(294),f=function(t,e,n){var i=n.latitude,a=n.longitude,o=function(t,e,n){var i=n.latitude,a=n.longitude,o=document.createElement("div");return o.addEventListener("click",function(){setTimeout(function(){var n=Number(getComputedStyle(e).height.replace("px",""));t.easeTo({center:[a,i],offset:[0,n/2]})}),o.classList.add("active")}),o.classList.add("map-pin"),o}(t,e,{latitude:i,longitude:a}),r=function(t,e){var n=new l.Popup({anchor:"bottom"});return n.on("close",function(){e.classList.remove("active")}),n.on("open",function(){var t=Object(m.a)();t&&t.observe()}),n.setDOMContent(t),n}(e,o);return new l.Marker(o).setLngLat([a,i]).setPopup(r).addTo(t)},g=function(){function t(e,n){c()(this,t),v()(this,"createContent",function(t,e){var n=document.createElement("a");if(n.classList.add("map-pin-content"),n.textContent=t,e){var i=window.clientSideInjectionVars.locale,a=e;"en-US"!==i&&(a="/".concat(i).concat(e)),n.href=a}return n});var i=n.latitude,a=n.longitude,o=n.name,r=n.linkTo;this.content=this.createContent(o,r),this.marker=f(e,this.content,{latitude:i,longitude:a})}return d()(t,[{key:"toggle",value:function(){this.marker.togglePopup()}},{key:"setActive",value:function(){this.marker.getElement().classList.add("active"),this.toggle()}},{key:"setPrimary",value:function(){this.marker.getElement().classList.add("map-pin-primary");this.content.classList.add("popup-primary")}}]),t}(),y=function(){function t(e,n){var i=n.latitude,a=n.longitude,o=n.slug;c()(this,t),v()(this,"createContent",function(t){var e="building-".concat(t),n=document.getElementById(e);n.dataset.popupId&&(n=document.getElementById(n.dataset.popupId));var i=n.cloneNode(!0);return i.classList.add("map-card"),i});var r=this.createContent(o);this.marker=f(e,r,{latitude:i,longitude:a}),this.marker.getElement().classList.add("building-".concat(o))}return d()(t,[{key:"remove",value:function(){this.marker.remove()}}]),t}();n.d(e,"BUILDING_PAGE_MAP",function(){return w}),n.d(e,"MARKET_PAGE_MAP",function(){return k}),n.d(e,"default",function(){return b});p.a.accessToken="pk.eyJ1Ijoid2V3b3JrZGV2IiwiYSI6ImNpaTZwc2R3ODAxc2V0OG0wNjBidGdvNzkifQ.TaNuYgJ96oO-KruVTTaEmA";var w="BUILDING_PAGE_MAP",k="MARKET_PAGE_MAP",P=[w,k],b=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.center,i=e.container,o=void 0===i?"map":i,s=e.locale,u=e.type,d=e.zoom,p=void 0===d?11:d,h=e.padding,v=void 0===h?20:h,m=r()(e,["center","container","locale","type","zoom","padding"]);c()(this,t),this.bounds=new l.LngLatBounds,this.map=new l.Map(a()({container:o,style:this.localeMap(s),center:[n.longitude,n.latitude],zoom:p},m)),this.pins=[],this.type=u,this.padding=v,this._setupNavControls()}return d()(t,[{key:"_createPin",value:function(t){switch(this.type){case w:return new g(this.map,t);case k:return new y(this.map,t);default:throw new Error("No Pin available for map type")}}},{key:"addPin",value:function(t){var e=t.latitude,n=t.longitude;this.bounds.extend([n,e]);var i=this._createPin(t);this.pins.push(i)}},{key:"getPin",value:function(t){var e=this.pins[t];if(!e||!e.marker)throw new Error("Invalid Pin Index: ",t);return e}},{key:"addPins",value:function(t){var e=this;0!==t.length&&(this.bounds=new l.LngLatBounds,t.forEach(this.addPin.bind(this)),setTimeout(function(){e.map.resize(),e.map.fitBounds(e.bounds,{padding:e.padding,maxZoom:16})}))}},{key:"setActivePin",value:function(t){this.getPin(t).setActive()}},{key:"setPrimaryPin",value:function(t){this.getPin(t).setPrimary()}},{key:"resetPins",value:function(t){this.pins.forEach(function(t){return t.remove()}),this.addPins(t)}},{key:"_setupNavControls",value:function(){var t=new l.NavigationControl({showCompass:!1,showZoom:!0});this.map.addControl(t,"top-left")}},{key:"localeMap",value:function(){var t={zh:"mapbox://styles/weworkdev/cj5clapuf07y22ro6yz0hccb0",de:"mapbox://styles/weworkdev/cj5clhfai080x2rpf5mhs04ho",es:"mapbox://styles/weworkdev/cj5clllmi085k2qpjezskq11a",fr:"mapbox://styles/weworkdev/cj5clnzxo08952rofwn4jc04p",en:"mapbox://styles/weworkdev/cjs26d85n1i2v1fo9940ukcnz"};return t[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en"]||t.en}},{key:"type",get:function(){return this._type},set:function(t){if(!P.includes(t))throw new Error("Invalid WeMap type: ",t);this._type=t}}]),t}()}}]);
//# sourceMappingURL=27.fb88597c0a4ea62507d0.chunk.js.map